
<table style="width:95%; height:100%; margin:10px auto;">
  <tr style="height:80%;">
    <td style="text-align:center; height:80%;" id="div_selectUsers">

      <%
      submit_url = url_for(:controller => 'schedules', :action => 'get_group_users')
      %>
      <%= render(:partial => 'common/select_users', :locals => {:target_attr => :id, :submit_url => submit_url}) %>

    </td>
  </tr>
  <tr style="height:20%;">
    <td style="text-align:center; padding:5px 0px 15px;">

      <table style="margin:0px auto;">
        <tr>
          <td style="text-align:right;">
            <input type="button" value="<%= t('btn.add') %>" onclick="onScheduleUsersOk();" style="width:90px; height:25px">
          </td>
          <td style="width:10px;"></td>
          <td style="text-align:left;">
            <input type="button" value="<%= t('btn.cancel') %>" onclick="onScheduleUsersCancel();" style="width:90px; height:25px">
          </td>
        </tr>
      </table>

    </td>
  </tr>
</table>

<script type="text/javascript">

onScheduleUsersOk = function()
{
  var ret_ary = moveList(_z("user_candidates"), _z("users_selected"));

  if (ret_ary != null && ret_ary.length > 0) {
    reqTargetDay++;
  }

  var instance = ThetisBox.getInstanceForElem(_z("div_selectUsers"));
  if (instance) {
    instance.remove();
  }
}

onScheduleUsersCancel = function()
{
  var instance = ThetisBox.getInstanceForElem(_z("div_selectUsers"));
  if (instance) {
    instance.remove();
  }
}

</script>
